const CACHE_NAME = "granawin-casino-v1", urlsToCache = ["/", "/index.html", "/woo-casino.svg", "/language.js", "/app.js"]; function doBackgroundSync() { return new Promise((function (e, n) { e() })) } self.addEventListener("install", (function (e) { e.waitUntil(caches.open(CACHE_NAME).then((function (e) { return e.addAll(urlsToCache.map((function (e) { return new Request(e, { cache: "reload" }) }))).catch((function (e) { })) }))), self.skipWaiting() })), self.addEventListener("activate", (function (e) { return e.waitUntil(caches.keys().then((function (e) { return Promise.all(e.map((function (e) { if (e !== CACHE_NAME) return caches.delete(e) }))) }))), self.clients.claim() })), self.addEventListener("fetch", (function (e) { "GET" === e.request.method && 0 === e.request.url.indexOf("http") && e.respondWith(caches.match(e.request).then((function (n) { return n || fetch(e.request).then((function (n) { if (!n || 200 !== n.status || "basic" !== n.type) return n; var t = n.clone(); return caches.open(CACHE_NAME).then((function (n) { n.put(e.request, t) })), n })).catch((function (e) { return new Response("Offline", { status: 503, statusText: "Service Unavailable" }) })) }))) })), self.addEventListener("message", (function (e) { e.data && "SKIP_WAITING" === e.data.type && self.skipWaiting() })), self.addEventListener("sync", (function (e) { "background-sync" === e.tag && e.waitUntil(doBackgroundSync()) }));